<div class="teklif-page">
  <div class="teklif-header">
    <div class="container">
      <a routerLink="/" class="back-link">â† Ana Sayfaya DÃ¶n</a>
      <h1>Teklif Al</h1>
      <p class="subtitle">Emlak ihtiyaÃ§larÄ±nÄ±z iÃ§in hemen bilgi alÄ±n</p>
    </div>
  </div>

  <div class="container">
    <div class="form-wrapper">
      
      @if (successMessage) {
        <div class="success-message">
          <span class="success-icon">âœ“</span>
          <h3>Talebiniz BaÅŸarÄ±yla AlÄ±ndÄ±!</h3>
          <p>En kÄ±sa sÃ¼rede size dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z. TeÅŸekkÃ¼r ederiz.</p>
        </div>
      }

      <form [formGroup]="teklifForm" (ngSubmit)="onSubmit()" class="teklif-form">
        
        <!-- Ad Soyad -->
        <div class="form-group">
          <label for="adSoyad">Ad Soyad <span class="required">*</span></label>
          <input 
            type="text" 
            id="adSoyad" 
            formControlName="adSoyad"
            class="form-control"
            [class.is-invalid]="submitted && f['adSoyad'].errors"
            placeholder="AdÄ±nÄ±z ve soyadÄ±nÄ±z">
          @if (submitted && f['adSoyad'].errors) {
            <div class="error-message">
              @if (f['adSoyad'].errors['required']) {
                <span>Ad soyad zorunludur</span>
              }
              @if (f['adSoyad'].errors['minlength']) {
                <span>En az 3 karakter olmalÄ±dÄ±r</span>
              }
            </div>
          }
        </div>

        <!-- Telefon -->
        <div class="form-group">
          <label for="telefon">Telefon NumarasÄ± <span class="required">*</span></label>
          <input 
            type="tel" 
            id="telefon" 
            formControlName="telefon"
            class="form-control"
            [class.is-invalid]="submitted && f['telefon'].errors"
            placeholder="5xx xxx xx xx">
          @if (submitted && f['telefon'].errors) {
            <div class="error-message">
              @if (f['telefon'].errors['required']) {
                <span>Telefon numarasÄ± zorunludur</span>
              }
              @if (f['telefon'].errors['pattern']) {
                <span>GeÃ§erli bir telefon numarasÄ± giriniz</span>
              }
            </div>
          }
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">E-posta Adresi <span class="required">*</span></label>
          <input 
            type="email" 
            id="email" 
            formControlName="email"
            class="form-control"
            [class.is-invalid]="submitted && f['email'].errors"
            placeholder="ornek@email.com">
          @if (submitted && f['email'].errors) {
            <div class="error-message">
              @if (f['email'].errors['required']) {
                <span>E-posta adresi zorunludur</span>
              }
              @if (f['email'].errors['email']) {
                <span>GeÃ§erli bir e-posta adresi giriniz</span>
              }
            </div>
          }
        </div>

        <!-- Emlak Tipi -->
        <div class="form-group">
          <label for="emlakTipi">Emlak Tipi <span class="required">*</span></label>
          <select 
            id="emlakTipi" 
            formControlName="emlakTipi"
            class="form-control"
            [class.is-invalid]="submitted && f['emlakTipi'].errors">
            <option value="">SeÃ§iniz...</option>
            @for (tip of sigortaTipleri; track tip.value) {
              <option [value]="tip.value">{{ tip.label }}</option>
            }
          </select>
          @if (submitted && f['emlakTipi'].errors) {
            <div class="error-message">
              <span>Emlak tipi seÃ§imi zorunludur</span>
            </div>
          }
        </div>

        <!-- Mesaj -->
        <div class="form-group">
          <label for="mesaj">MesajÄ±nÄ±z <span class="required">*</span></label>
          <textarea 
            id="mesaj" 
            formControlName="mesaj"
            class="form-control"
            [class.is-invalid]="submitted && f['mesaj'].errors"
            rows="5"
            placeholder="Emlak ihtiyacÄ±nÄ±z hakkÄ±nda detaylÄ± bilgi verebilirsiniz..."></textarea>
          @if (submitted && f['mesaj'].errors) {
            <div class="error-message">
              @if (f['mesaj'].errors['required']) {
                <span>Mesaj zorunludur</span>
              }
              @if (f['mesaj'].errors['minlength']) {
                <span>En az 10 karakter olmalÄ±dÄ±r</span>
              }
            </div>
          }
        </div>

        <!-- Submit Button -->
        <div class="form-actions">
          <button type="submit" class="btn-submit">
            Teklif Talep Et
          </button>
          <a routerLink="/" class="btn-cancel">Ä°ptal</a>
        </div>

      </form>

      <!-- Info Box -->
      <div class="info-box">
        <h3>ğŸ“ HÄ±zlÄ± Ä°letiÅŸim</h3>
        <p>Acil durumlar iÃ§in bizi arayabilirsiniz:</p>
        <div class="phone-numbers">
          <a href="tel:+905337230153">+90 533 723 01 53</a>
        </div>
        <p class="info-text">Ã‡alÄ±ÅŸma Saatleri: Hafta iÃ§i 09:00 - 18:00</p>
      </div>

    </div>
  </div>
</div>
